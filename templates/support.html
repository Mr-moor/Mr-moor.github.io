{% extends "base.html" %}
{% block content %}

<style>
/* üåä WiFinity Theme for Support Page */
.support-container {
  max-width: 750px;
  margin: 0 auto;
  padding: 2rem;
  background: linear-gradient(145deg, #e3f7ff, #ffffff);
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0, 191, 255, 0.2);
  animation: fadeIn 1s ease-in-out;
}

.support-title {
  text-align: center;
  color: #007bff;
  font-weight: 700;
  font-size: 1.9rem;
  letter-spacing: 0.5px;
}

.support-description {
  text-align: center;
  color: #555;
  margin-bottom: 1.5rem;
  font-size: 1rem;
}

.support-form .form-label {
  font-weight: 600;
  color: #333;
}

.support-form .form-control {
  border-radius: 12px;
  border: 1px solid #b9e7f7;
  box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
}

.support-form .form-control:focus {
  border-color: #06b6d4;
  box-shadow: 0 0 6px rgba(0,191,255,0.4);
}

.btn-send {
  background: linear-gradient(to right, #06b6d4, #007bff);
  border: none;
  border-radius: 50px;
  padding: 0.7rem 1.2rem;
  color: white;
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
}

.btn-send:hover {
  background: linear-gradient(to right, #0096ff, #06b6d4);
  transform: scale(1.03);
  box-shadow: 0 4px 12px rgba(0,191,255,0.3);
}

#status {
  margin-top: 1rem;
  font-weight: 600;
  text-align: center;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>

<div class="support-container mt-5">
  <h2 class="support-title"><i class="bi bi-headset"></i> WiFinity Support</h2>
  <p class="support-description">
    Having trouble? Fill in the form below and our team will respond as soon as possible.
  </p>

  <form id="supportForm" class="support-form">
    <div class="mb-3">
      <label for="name" class="form-label">Full Name</label>
      <input type="text" class="form-control" id="name" placeholder="Enter your full name" required>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email Address</label>
      <input type="email" class="form-control" id="email" placeholder="Enter your email" required>
    </div>

    <div class="mb-3">
      <label for="message" class="form-label">Message</label>
      <textarea class="form-control" id="message" rows="5" placeholder="Describe your issue..." required></textarea>
    </div>

    <button type="submit" class="btn btn-send w-100">
      <i class="bi bi-send"></i> Send Message
    </button>

    <div id="status" class="text-primary mt-3"></div>
  </form>
</div>

<script>
document.getElementById('supportForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const formData = {
    name: document.getElementById('name').value.trim(),
    email: document.getElementById('email').value.trim(),
    message: document.getElementById('message').value.trim()
  };
  document.getElementById('status').textContent = "‚è≥ Sending message...";
  const response = await fetch('/send_support_email', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(formData)
  });
  const result = await response.json();
  document.getElementById('status').textContent = result.message;
});
</script>

{% endblock %}
